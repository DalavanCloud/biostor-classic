<?php

// Add BHL DOIs for parts
require_once (dirname(__FILE__) . '/db.php');
require_once (dirname(__FILE__) . '/lib.php');

/*
SELECT DISTINCT ItemID FROM bhl_page 
INNER JOIN rdmp_reference_page_joiner USING(PageID)
INNER JOIN rdmp_reference USING(reference_id) WHERE issn='0007-5167';

*/


$parts = array(
81955,
81954,
81960,
81959,
81957,
81958,
81961,
81962,
81964,
81963,
81965,
81966,
81967,
81968,
81970,
81972,
81974,
81973,
81975,
81977,
81978,
81976,
81981,
81980,
81982,
81979,
81983,
81984,
81986,
81985,
81987,
81956,
81989,
81988,
81990,
81994,
81992,
81993,
81991,
82000,
81996,
82001,
81999,
81997,
81995,
81998,
82008,
82006,
82007,
82004,
82005,
82003,
81969,
82015,
82012,
82010,
82011,
82014,
82013,
81971,
82017,
82016,
82018,
82019,
82021,
82022,
82024,
82020,
82025,
82023,
82027,
82026,
82031,
82030,
82029,
82035,
82034,
82036,
82033,
82032,
82039,
82040,
82038,
82037,
82041,
82042,
82044,
82043,
82045,
82046,
82047,
82050,
82049,
82051,
82052,
82053,
82002,
82054,
82009,
82055,
82060,
82056,
82057,
82058,
82061,
82063,
82062,
82067,
82064,
82066,
82065,
82070,
82068,
82072,
82071,
82069,
82028,
82220,
82216,
82212,
82218,
82215,
82219,
82074,
82075,
82073,
82213,
82211,
82214,
82217,
82221,
82223,
82224,
82231,
82222,
82225,
82226,
82228,
82230,
82229,
82227,
82236,
82232,
82235,
82237,
82233,
82242,
82240,
82238,
82243,
82239,
82241,
82248,
82250,
82048,
82249,
82244,
82252,
82246,
82247,
82251,
82245,
82253,
82255,
82257,
82262,
82260,
82261,
82258,
82256,
82254,
82263,
82264,
82267,
82265,
82268,
82270,
82059,
82269,
82266,
82273,
82271,
82274,
82277,
82275,
82276,
82278,
82280,
82281,
82279,
82285,
82282,
82286,
82283,
82284,
82291,
82290,
82289,
82288,
82287,
82293,
82292,
82296,
82294,
82295,
82298,
82297,
82234,
82299,
82301,
82305,
82304,
82306,
82303,
82310,
82308,
82309,
82311,
82259,
82315,
82312,
82319,
82317,
82316,
82313,
82318,
82314,
82330,
82325,
82328,
82324,
82322,
82323,
82329,
82326,
82327,
82321,
82320,
82272,
82332,
82333,
82331,
82336,
82335,
82337,
82334,
82340,
82342,
82339,
82344,
82338,
82341,
82343,
82347,
82345,
82346,
82348,
82354,
82349,
82352,
82350,
82351,
82353,
82360,
82361,
82358,
82355,
82362,
82357,
82359,
82356,
82300,
82302,
82368,
82365,
82367,
82363,
82364,
82366,
82307,
82371,
82373,
82374,
82372,
82369,
82370,
82379,
82375,
82380,
82376,
82378,
82377,
82386,
82381,
82383,
82385,
82384,
82391,
82388,
82389,
82387,
82390,
82397,
82398,
82392,
82395,
82394,
82396,
82393,
82399,
82403,
82405,
82402,
82404,
82400,
82406,
82407,
82408,
82410,
82412,
82411,
82414,
82415,
82413,
82419,
82418,
82416,
82421,
82422,
82417,
82420,
82426,
82429,
82427,
82425,
82424,
82423,
82432,
82431,
82434,
82435,
82433,
82430,
82439,
82438,
82441,
82442,
82437,
82436,
82447,
82443,
82445,
82444,
82446,
82448,
82382,
82451,
82450,
82454,
82449,
82452,
82455,
82453,
82456,
82458,
82457,
82460,
82459,
82462,
82461,
82465,
82464,
82466,
82463,
82467,
82468,
82401,
82480,
82472,
82473,
82479,
82475,
82470,
82481,
82476,
82469,
82471,
82477,
82478,
82474,
82409,
82491,
82492,
82482,
82490,
82493,
82483,
82485,
82495,
82486,
82488,
82484,
82487,
82489,
82494,
82497,
82503,
82498,
82496,
82508,
82499,
82506,
82514,
82502,
82504,
82507,
82505,
82500,
82501,
82515,
82518,
82522,
82523,
82516,
82520,
82519,
82521,
82517,
82428,
82531,
82530,
82527,
82529,
82532,
82526,
82528,
82524,
82525,
84690,
85502,
85505,
85503,
84688,
84689,
82533,
84687,
85500,
85506,
85507,
85508,
85501,
82534,
85504,
82440,
85509,
85511,
85515,
85513,
85514,
85510,
85512,
85517,
85518,
85521,
85520,
85519,
85516,
85534,
85523,
85522,
85533,
85528,
85525,
85527,
85535,
85536,
85529,
85531,
85532,
85526,
85530,
85524,
85550,
85542,
85540,
85537,
85539,
85548,
85541,
85546,
85549,
85544,
85538,
85547,
85543,
85545,
85554,
85553,
85551,
85552,
85555,
85556,
85557,
85558,
85559,
85560,
85561,
85562,
85563,
85564,
85565,
85566,
85567,
85568,
85569,
85570,
85603,
91051,
91052,
91276,
91366,
91368,
91367,
91369,
91370,
91371,
91372,
91373,
91374,
91375,
91376,
91378,
91377,
91379,
91380,
91381,
91382,
91383,
91384,
91385,
91386,
91387,
91388,
91389,
91390,
91391,
91392,
91393,
91394,
91395,
91396,
91397,
91398,
91399,
91400,
91401,
91402,
91403,
91404,
91406,
91405,
91407,
91412,
91414,
91408,
91410,
91413,
91409,
91411,
91418,
91416,
91415,
91417,
91419,
91428,
91425,
91420,
91422,
91424,
91427,
91423,
91421,
91426,
91430,
91432,
91434,
91429,
91436,
91431,
91435,
91433,
91446,
91439,
91447,
91443,
91444,
91440,
91442,
91438,
91445,
91441,
91437,
91458,
91451,
91452,
91448,
91457,
91450,
91455,
91454,
91456,
91453,
91462,
91464,
91459,
91460,
91461,
91463,
92388,
97036,
91466,
92590,
97035,
92399,
97040,
97039,
97037,
97038,
97042,
97045,
97043,
97044,
97051,
97047,
97046,
97049,
97048,
97055,
97054,
97056,
97053,
97052,
97064,
97060,
97063,
97061,
97059,
97057,
97065,
97062,
97058,
97076,
97069,
97070,
97067,
97071,
97075,
97068,
97074,
97073,
97066,
97072,
97084,
97080,
97082,
97077,
97079,
97083,
97081,
97078,
97128,
97126,
97129,
97124,
97123,
97087,
97085,
97130,
97131,
97125,
97086,
97127,
97138,
91449,
97135,
97140,
97142,
97133,
97132,
97137,
97136,
97141,
97139,
97145,
97152,
97151,
97146,
97153,
97144,
97148,
97147,
97143,
97150,
97149,
97163,
97154,
97164,
97159,
97156,
97158,
97157,
97160,
97162,
97155,
97161,
97733,
97169,
97168,
117589,
117588,
97166,
117585,
97041,
97167,
117586,
117587,
117583,
117584,
117598,
117594,
117597,
117593,
117595,
117592,
117600,
117590,
117599,
117596,
117591,
97050,
117609,
117603,
117611,
117606,
117602,
117610,
117607,
117601,
117608,
117604,
117605,
117612,
117617,
117613,
117618,
117624,
117616,
117615,
117623,
117620,
117619,
117622,
117621,
117614,
117630,
117631,
117628,
117626,
117629,
117627,
117625,
117637,
117636,
117639,
117640,
117633,
117638,
117635,
117632,
117644,
117643,
117642,
117647,
117646,
117648,
117645,
97134,
117651,
117649,
117655,
117654,
117652,
117656,
117653,
97165,
117663,
117661,
117659,
117660,
117658,
117662,
117657,
117664,
117671,
117666,
117667,
117672,
117668,
117669,
117673,
117670,
117674,
117665,
117675,
117676,
117681,
117680,
117677,
117678,
117682,
117679,
117683,
117689,
117693,
117686,
117690,
117692,
117687,
117695,
117691,
117685,
117684,
117688,
117696,
117698,
117700,
117699,
117697,
117708,
117706,
117702,
117703,
117705,
117710,
117709,
117701,
117704,
117707,
117634,
117714,
117721,
117641,
117713,
117718,
117719,
117711,
117716,
117715,
117720,
117717,
117712,
117724,
117723,
117726,
117729,
117722,
117731,
117725,
117728,
117730,
117727,
117732,
117733,
117738,
117737,
117739,
117734,
117735,
117736,
117650,
117742,
117748,
117740,
117741,
117745,
117749,
117746,
117747,
117743,
117744,
117754,
117753,
117755,
117756,
117752,
117750,
117757,
117751,
117761,
117759,
117767,
117765,
117763,
117760,
117762,
117764,
117766,
117758,
117768,
117777,
117775,
117772,
117771,
117770,
117779,
117776,
117773,
117774,
117769,
117778,
117784,
117786,
117785,
117782,
117791,
117790,
117787,
117789,
117788,
117780,
117781,
117783,
117792,
117794,
117795,
117793,
117797,
117796,
117694,
117806,
117803,
117800,
117807,
117804,
117808,
117802,
117799,
117805,
117801,
117798,
117809,
117814,
117810,
117819,
117816,
117818,
117817,
117811,
117813,
117812,
117815,
117823,
117876,
117875,
117869,
117874,
117871,
117821,
117822,
117870,
117820,
117872,
117873,
117877,
117888,
117889,
117879,
117884,
117881,
117878,
117882,
117891,
117887,
117883,
117886,
117890,
117885,
117880,
117896,
117898,
117902,
117903,
117893,
117899,
117892,
117894,
117895,
117897,
117900,
117901,
80138,
80134,
80132,
80137,
80133,
80135,
80139,
80128,
80131,
80129,
80140,
80130,
80136,
80146,
80149,
80144,
80142,
80145,
80143,
80147,
80141,
80148,
80122,
79648,
79653,
79652,
79650,
79647,
79649,
79651,
79658,
79656,
79660,
79657,
79655,
79659,
79654,
79662,
79661,
79664,
79665,
79663,
79666,
79668,
79667,
79670,
79674,
79673,
79669,
79671,
79672,
79675,
79679,
79676,
79677,
79678,
79682,
79680,
79681,
79684,
79685,
79686,
79683,
79689,
79687,
79688,
79690,
79691,
79692,
79695,
79696,
79694,
79693,
79697,
79699,
79698,
79701,
79702,
79700,
79703,
79705,
79704,
79708,
79706,
79707,
79711,
79710,
79712,
79709,
79716,
79715,
79713,
79714,
79719,
79718,
79717,
79720,
79721,
79725,
79724,
79722,
79723,
79727,
79728,
79726,
79729,
79730,
79731,
79736,
79734,
79737,
79732,
79735,
79738,
79733,
79739,
79741,
79740,
79743,
79746,
79745,
79742,
79747,
79744,
79750,
79749,
79748,
79751,
79753,
79754,
79755,
79752,
79759,
79757,
79762,
79760,
79756,
79758,
79764,
79763,
79770,
79765,
79769,
79766,
79768,
79767,
79771,
79773,
79772,
79777,
79778,
79775,
79774,
79776,
79783,
79779,
79780,
79781,
79785,
79782,
79784,
79789,
79790,
79788,
79787,
79786,
79794,
79797,
79792,
79796,
79793,
79791,
79795,
79800,
79798,
79799,
79801,
79802,
79804,
79803,
79805,
79806,
79808,
79809,
79814,
79810,
79812,
79813,
79811,
79816,
79815,
79817,
79818,
79820,
79823,
79819,
79822,
79821,
79826,
79825,
79828,
79829,
79827,
79833,
79831,
79830,
79832,
79835,
79836,
79834,
79837,
79838,
79839,
79840,
79843,
79844,
79842,
79841,
79846,
79845,
79849,
79851,
79850,
79847,
79848,
79856,
79855,
79853,
79852,
79854,
79858,
79857,
79860,
79859,
79862,
79861,
79863,
79866,
79864,
79868,
79865,
79869,
79867,
79824,
79871,
79878,
79876,
79880,
79873,
79870,
79875,
79874,
79872,
79879,
79877,
79883,
79885,
79881,
79887,
79882,
79886,
79888,
79889,
79890,
79891,
79893,
79895,
79894,
79896,
79892,
79897,
79898,
79899,
79902,
79900,
79901,
79906,
79907,
79905,
79903,
79904,
79909,
79911,
79910,
79908,
79915,
79912,
79913,
79914,
79917,
79918,
79916,
79920,
79919,
79921,
79922,
79924,
79923,
79925,
79928,
79930,
79927,
79926,
79929,
79932,
79935,
79931,
79934,
79933,
79936,
79938,
79937,
79940,
79943,
79939,
79941,
79942,
79945,
79948,
79950,
79946,
79944,
79947,
79951,
79952,
79953,
79955,
79956,
79954,
79960,
79959,
79962,
79958,
79957,
79961,
79967,
79963,
79964,
79965,
79966,
79968,
79970,
79972,
79973,
79971,
79969,
79978,
79976,
79977,
79974,
79975,
79984,
79982,
79983,
79981,
79980,
79979,
79985,
79987,
79986,
79988,
79989,
79993,
79992,
79991,
79990,
79995,
79994,
79949,
79997,
79999,
79996,
79998,
80001,
80000,
80002,
80003,
80005,
80004,
80011,
80006,
80009,
80007,
80008,
80013,
80016,
80014,
80012,
80015,
80019,
80024,
80023,
80021,
80017,
80020,
80022,
80018,
80025,
80028,
80029,
80030,
80027,
80026,
80031,
80033,
80032,
80035,
80036,
80034,
80037,
80043,
80044,
80038,
80039,
80042,
80041,
80040,
80048,
80047,
80046,
80050,
80051,
80045,
80049,
80053,
80052,
80054,
80060,
80056,
80057,
80058,
80055,
80059,
80062,
80063,
80064,
80061,
80010,
80072,
80067,
80071,
80073,
80069,
80070,
80068,
80082,
80081,
80079,
80083,
80077,
80075,
80078,
80076,
80074,
80080,
80090,
80084,
80085,
80088,
80091,
80089,
80087,
80086,
80092,
80098,
80100,
80099,
80102,
80095,
80094,
80101,
80103,
80097,
80093,
80096,
80105,
80112,
80113,
80114,
80117,
80111,
80104,
80106,
80107,
80109,
80116,
80108,
80110,
80127,
80123,
80119,
80125,
80124,
80126,
80120,
80118,
80121,
75276,
75613,
75090,
36326,
75478,
75487,
75188,
75415,
75409,
75397,
75578,
75406,
75202,
75385,
37160,
75449,
75138,
75217,
75239,
75428,
75587,
70783,
75435,
75573,
75414,
75430,
75584,
36674,
36670,
75089,
75469,
22186,
75559,
75154,
75503,
37387,
75593,
22183,
75540,
75169,
75460,
49550,
75510,
75224,
75079,
75222,
75245,
27524,
75192,
75521,
75480,
75565,
75374,
75401,
29919,
75250,
36675,
75438,
75213,
75242,
75162,
75560,
75471,
75400,
75552,
75163,
75141,
75550,
75286,
75443,
75133,
75453,
22181,
75591,
75549,
75470,
37158,
75203,
75228,
75232,
75432,
75221,
36328,
75164,
17669,
75393,
75532,
75546,
75243,
29920,
36325,
75214,
75489,
29918,
75190,
75462,
75404,
36329,
75576,
75369,
75537,
75364,
75189,
75396,
37383,
75226,
75384,
27523,
75437,
75586,
75174,
75144,
75269,
75407,
20304,
36323,
75455,
75563,
75607,
75511,
75488,
75368,
75574,
37156,
75458,
32952,
22184,
75424,
75274,
75433,
36327,
75612,
75439,
75451,
75212,
75183,
75376,
75136,
75236,
75381,
75137,
75444,
75572,
75577,
32948,
75513,
75083,
75196,
75448,
75479,
75131,
75516,
75466,
29917,
75081,
75372,
75220,
75602,
75477,
75536,
75365,
36668,
75491,
37153,
75378,
75589,
75535,
75571,
75260,
35507,
75382,
75482,
75476,
75158,
75285,
75180,
75416,
75211,
75246,
75129,
75082,
75494,
75539,
75271,
31931,
37386,
75554,
75402,
75275,
75171,
75225,
32951,
36673,
75542,
75399,
75529,
75371,
75457,
75093,
75216,
75270,
75187,
75500,
75530,
75215,
75390,
37159,
75130,
75268,
27522,
75383,
75177,
75527,
75272,
75398,
75377,
75088,
75244,
75411,
75218,
75611,
75526,
75172,
75278,
75366,
75145,
75534,
75391,
75410,
36669,
75389,
75440,
75583,
75505,
75508,
75379,
37151,
36671,
75601,
75223,
75152,
75235,
37722,
75441,
75135,
75486,
75579,
75575,
75363,
75569,
19251,
75150,
75562,
75418,
75179,
75544,
75139,
75375,
75548,
75157,
31930,
75147,
75280,
75566,
75463,
75175,
75434,
75533,
75233,
75229,
36322,
75195,
32949,
75597,
75447,
75205,
75609,
75450,
75395,
75474,
75185,
75528,
75468,
75201,
75134,
75186,
75590,
75509,
35506,
75538,
75262,
37388,
75504,
75261,
75247,
75405,
75485,
75267,
49548,
75142,
75495,
75558,
19247,
27526,
75403,
75258,
75238,
75386,
75422,
75248,
75556,
75467,
75140,
27521,
75241,
75442,
75259,
75420,
75475,
75166,
75606,
35505,
75176,
22185,
75091,
75502,
75151,
75263,
75249,
75156,
75204,
75209,
75531,
75208,
37152,
75454,
49549,
75200,
75456,
75207,
75426,
75561,
22182,
75598,
75481,
37155,
75497,
75210,
75585,
75085,
75493,
75092,
75427,
75421,
75264,
75199,
75599,
75499,
75514,
75367,
36667,
75541,
75279,
75588,
75600,
75524,
75564,
31929,
75206,
75153,
75198,
75551,
19250,
75436,
75547,
75143,
75388,
36672,
75512,
75148,
75417,
75425,
75284,
75553,
37154,
20305,
75191,
75459,
75362,
75182,
75155,
75429,
37721,
75160,
75167,
75498,
75078,
75523,
75596,
75413,
75408,
27525,
75515,
75608,
75149,
75603,
75273,
75483,
75361,
75525,
75465,
75159,
31928,
19249,
75445,
75287,
75581,
75592,
37384,
75568,
75173,
75373,
75555,
75492,
75557,
75370,
75473,
75519,
75543,
75472,
75392,
37385,
36324,
75146,
75412,
75567,
75506,
75452,
75080,
26336,
75240,
37382,
75507,
75394,
75570,
75178,
75595,
75522,
75446,
75281,
75165,
75582,
75161,
75387,
75234,
75380,
75604,
75266,
75518,
75184,
75520,
29921,
75219,
75181,
75231,
75580,
75132,
75086,
75419,
75237,
75084,
75496,
75461,
75193,
19248,
75168,
75423,
75227,
36330,
29916,
75464,
75170,
75265,
75230,
75431,
75194,
75282,
75283,
75610,
75484,
75594,
75501,
75197,
75605,
75490,
75087,
75545,
75277,
32950,
75517,
16673,
10150,
3743,
3746,
3744,
3747,
3745,
3777,
3778,
3774,
3775,
4645,
3776,
3779,
3773,
4648,
4787,
4788,
4786,
4646,
4647,
7899,
7900,
7901,
8297,
10148,
10149,
10151,
10582,
8298,
11858,
11856,
10584,
13791,
10583,
11857,
13792,
16166,
13793,
13794,
16167,
16676,
16674,
16671,
16168,
16675,
16672,
16169,
17668,
155628,
155012,
155013,
79761,
80150,
79884,
79807,
80155,
80151,
80153,
80152,
80154,
80156,
80159,
80157,
80158,
80160,
80161,
80162,
80163,
80164,
80167,
80166,
80165,
80168,
80170,
80169,
80173,
80172,
80171,
80175,
80177,
80176,
80179,
80180,
80178,
80181,
80182,
80184,
80185,
80183,
80187,
80190,
80186,
80188,
80191,
80189,
80192,
80194,
80193,
80196,
80195,
80197,
80199,
80198,
80200,
80202,
80201,
80203,
80206,
80205,
80204,
80208,
80209,
80211,
80210,
80207,
80214,
80213,
80212,
80215,
80216,
80221,
80217,
80218,
80219,
80224,
80222,
80226,
80225,
80223,
80230,
80227,
80228,
80229,
80234,
80232,
80233,
80231,
80239,
80236,
80235,
80237,
80238,
80241,
80243,
80240,
80242,
80244,
80245,
80246,
80247,
80250,
80249,
80248,
80251,
80252,
80256,
80255,
80253,
80254,
80258,
80260,
80257,
80259,
80262,
80261,
80263,
80265,
80264,
80267,
80266,
80272,
80271,
80268,
80270,
80269,
80273,
80276,
80279,
80275,
80278,
80274,
80280,
80277,
80282,
80285,
80283,
80281,
80284,
80286,
80290,
80294,
80289,
80296,
80287,
80293,
80292,
80288,
80295,
80291,
80302,
80303,
80299,
80300,
80304,
80301,
80298,
80297,
80310,
80305,
80309,
80312,
80306,
80308,
80307,
80311,
80315,
80319,
80314,
80318,
80313,
80316,
80317,
80320,
80322,
80323,
80324,
80321,
80328,
80330,
80327,
80332,
80329,
80326,
80331,
80333,
80334,
80336,
80337,
80335,
80342,
80339,
80340,
80338,
80341,
80344,
80345,
80343,
80347,
80348,
80346,
80349,
80355,
80351,
80356,
80353,
80352,
80350,
80358,
80354,
80357,
80360,
80359,
80361,
80362,
80364,
80365,
80363,
80366,
80367,
80368,
80369,
80373,
80374,
80376,
80377,
80372,
80371,
80370,
80386,
80381,
80385,
80388,
80389,
80387,
80384,
80382,
80378,
80380,
80379,
80383,
80396,
80392,
80394,
80391,
80395,
80393,
80390,
80401,
80406,
80397,
80402,
80403,
80400,
80407,
80404,
80405,
80398,
80399,
80410,
80413,
80409,
80412,
80414,
80408,
80411,
80415,
80416,
80417,
80420,
80422,
80418,
80421,
80423,
80419,
80424,
80425,
80426,
80428,
80432,
80430,
80431,
80427,
80434,
80435,
80433,
80438,
80436,
80437,
80440,
80441,
80442,
80439,
80443,
80446,
80447,
80444,
80445,
80449,
80375,
80450,
80448,
80451,
80454,
80452,
80458,
80455,
80453,
80457,
80461,
80462,
80459,
80460,
80469,
80467,
80463,
80466,
80468,
80465,
80464,
80474,
80471,
80473,
80472,
80475,
80470,
80478,
80479,
80480,
80476,
80477,
80481,
80483,
80482,
80484,
80485,
80489,
81323,
81321,
80429,
80487,
80486,
80488,
81324,
81322,
81325,
81327,
81326,
81328,
81564,
81565,
81567,
81566,
81571,
81573,
81572,
81575,
81569,
81577,
81570,
81576,
81568,
81574,
81579,
81580,
81578,
81582,
81581,
81584,
81583,
81587,
81585,
81586,
81591,
81593,
81588,
81594,
81597,
81592,
81596,
81590,
81589,
81595,
81602,
81601,
81604,
81606,
81603,
81600,
81605,
81599,
81598,
81607,
81609,
81611,
81608,
81610,
81618,
81612,
81613,
81614,
81615,
81617,
81616,
81621,
81625,
81620,
81622,
81619,
81626,
81624,
81623,
81628,
81866,
81627,
81867,
81872,
81871,
81870,
81869,
81868,
81876,
81874,
81878,
81873,
81877,
81879,
81875,
81880,
81881,
81884,
81882,
81883,
81891,
81890,
81889,
81886,
81888,
81885,
81887,
81892,
81894,
81895,
81893,
81896,
81898,
81901,
81899,
81897,
81903,
81902,
81900,
81905,
81908,
81906,
81907,
81910,
81909,
81904,
81914,
81913,
81911,
81912,
81918,
81923,
81915,
81922,
81919,
81917,
81921,
81924,
81920,
81925,
81916,
81927,
81931,
81936,
81929,
81926,
81928,
81932,
81930,
81934,
81935,
81938,
81946,
81941,
81942,
81948,
81943,
81947,
81945,
81937,
81944,
81939,
81940,
81953,
81949,
81951,
81950,
81952,
81933,
157073,
76049,
76047,
76046,
76048,
76045,
76053,
76050,
76051,
76052,
76056,
76054,
76055,
78258,
76059,
76057,
78257,
76058,
78259,
78263,
78264,
78262,
78260,
78261,
78267,
78266,
78265,
78268,
78272,
78275,
78273,
78271,
78278,
78270,
78269,
78274,
78276,
78277,
78282,
78279,
78281,
78280,
76025,
78285,
78283,
78284,
79490,
79489,
79488,
79492,
79491,
79493,
79494,
79497,
79496,
79495,
79498,
79500,
79499,
79502,
79504,
79501,
79503,
79505,
79511,
79509,
79506,
79507,
79510,
79508,
79512,
79515,
79517,
79513,
79514,
79516,
79518,
79519,
79520,
79521,
79523,
79525,
79522,
79524,
79527,
79526,
79529,
79528,
79531,
79536,
79532,
79533,
79537,
79535,
79530,
79534,
79541,
79542,
79543,
79544,
79538,
79539,
79540,
79546,
79545,
79547,
79552,
79550,
79549,
79548,
79556,
79554,
79553,
79555,
79557,
79561,
79563,
79566,
79564,
79562,
79565,
79570,
79571,
79569,
79567,
79568,
79572,
79576,
79575,
79574,
79573,
79583,
79581,
79580,
79579,
79582,
79577,
79578,
79585,
79586,
79584,
79587,
79589,
79592,
79591,
79588,
79590,
79594,
79595,
79593,
79597,
79598,
79600,
79599,
79596,
79601,
79602,
79607,
79604,
79603,
79605,
79606,
79551,
79612,
79614,
79615,
79610,
79609,
79608,
79613,
79611,
79616,
79618,
79620,
79619,
79617,
79621,
79626,
79623,
79622,
79625,
79624,
79628,
79629,
79630,
79627,
79633,
79632,
79631,
79634,
79637,
79639,
79635,
79636,
79638,
79644,
79643,
79645,
79642,
79646,
79641,
79640,
75615,
75617,
75616,
75614,
75618,
75622,
75620,
75619,
75621,
75623,
75624,
75625,
75627,
75626,
75629,
75630,
75628,
75631,
75632,
75633,
75635,
75634,
75636,
75637,
75638,
75640,
75639,
75642,
75641,
75643,
75644,
75646,
75645,
75650,
75649,
75651,
75648,
75647,
75653,
75654,
75656,
75655,
75652,
75658,
75657,
75659,
75661,
75660,
75664,
75662,
75663,
75666,
75665,
75671,
75670,
75668,
75667,
75669,
75672,
75681,
75806,
75805,
75808,
75807,
75811,
75810,
75809,
75812,
75814,
75817,
75816,
75813,
75815,
75819,
75820,
75823,
75821,
75818,
75822,
75825,
75824,
75826,
75827,
75829,
75832,
75828,
75831,
75830,
75833,
75837,
75836,
75838,
75835,
75834,
75839,
75842,
75840,
75841,
75844,
75847,
75846,
75845,
75843,
75848,
75849,
75850,
75851,
75852,
75853,
75856,
75854,
75855,
75858,
75857,
75860,
75861,
75864,
75859,
75863,
75865,
75862,
75867,
75868,
75871,
75869,
75866,
75870,
75879,
75878,
75876,
75875,
75877,
75872,
75873,
75874,
75880,
75884,
75883,
75885,
75882,
75881,
75889,
75888,
75890,
75887,
75886,
75891,
75895,
75894,
75897,
75896,
75893,
75892,
75903,
75905,
75898,
75904,
75900,
75901,
75906,
75902,
75899,
75909,
75910,
75907,
75908,
75912,
75915,
75911,
75913,
75914,
75920,
75919,
75916,
75917,
75918,
75923,
75922,
75924,
75921,
75926,
75928,
75932,
75930,
75929,
75925,
75927,
75931,
75933,
75934,
75938,
75935,
75936,
75937,
75940,
75941,
75943,
75939,
75942,
75945,
75944,
75948,
75947,
75946,
75950,
75951,
75949,
75952,
75958,
75956,
75953,
75960,
75954,
75955,
75959,
75957,
75961,
75967,
75965,
75968,
75964,
75962,
75963,
75966,
75972,
75971,
75970,
75973,
75969,
75976,
75974,
75975,
75981,
75980,
75977,
75979,
75978,
75983,
75982,
75987,
75988,
75984,
75989,
75985,
75986,
75999,
75994,
75998,
75996,
75991,
75993,
75997,
75992,
75995,
75990,
76000,
76002,
76003,
76001,
76004,
76012,
76009,
76008,
76011,
76006,
76007,
76005,
76014,
76010,
76013,
76017,
76016,
76018,
76015,
76024,
76023,
76022,
76021,
76020,
76019,
76026,
76031,
76034,
76037,
76036,
76029,
76030,
76035,
76032,
76033,
76027,
76028,
76038,
76042,
76041,
76039,
76043,
76040,
76044,
154483,
117904,
117906,
117905,
117918,
117921,
117919,
117920,
117922,
117923,
117924,
117926,
117925,
117927,
117928,
117929,
117930,
117931,
117933,
117932,
117934,
117935,
117936,
117937,
117938,
117940,
117939,
117941,
117942,
117943,
117944,
117945,
117946,
117947,
118142,
118578,
118583,
118618,
118840,
118944,
118947,
118945,
118946,
118948,
118949,
140231,
127604,
144393,
144402,
144519,
144776,
144771,
145579,
144765,
145463,
145462,
145991,
145993,
145995,
145994,
145992,
145998,
145996,
145999,
145997,
146001,
146000,
146002,
146003,
146004,
146007,
146010,
146008,
146006,
146009,
146013,
146012,
146011,
146017,
146014,
146018,
146016,
146019,
146023,
146021,
146020,
146024,
146022,
146025,
146026,
146027,
146028,
146032,
146029,
146031,
146030,
146033,
146035,
146034,
146746,
146655,
150022,
146036,
150026,
150023,
150025,
150024,
150145,
150144,
146005
);

$parts=array(
150022,
150026,
150023,
150025,
150024,
150145,
150144,
150196,
150197,
150195,
150200,
150202,
150198,
150201,
150199,
150207,
150326,
150206,
150205,
150204
);


// Bull Zoo Nom
$parts = array(2834);

$items=array(45032,
44552,
44463,
44486,
44482,
44469,
44467,
44291,
43930,
44468,
44466,
44470,
44464,
44465,
44459,
44462,
44461,
44460,
44293,
44292,
44303,
44290,
44295,
44304,
44281,
43830,
45022,
45027,
44489,
44490,
45868,
44488,
45039,
44798,
44548,
44484,
44546,
44485,
44483,
44471,
44472,
44475,
44480,
44481,
44487,
44479,
44473,
44474,
44476,
44477,
44478,
44458,
44284,
43924,
44286,
44294,
107002,
107011,
107013,
105441,
107012,
107000,
107007,
44457,
151941);

$items=array(45032);

$parts = array();

/*
foreach ($items as $ItemID)
{
	$url = 'http://www.biodiversitylibrary.org/api2/httpquery.ashx?op=GetItemParts&itemid=' . $ItemID . '&apikey=0d4f0303-712e-49e0-92c5-2113a5959159&format=json';

	$json = get($url);
	
	if ($json != '')
	{
		$obj = json_decode($json);
		
		//print_r($obj);
		
		if ($obj->Status == 'ok')
		{
			foreach ($obj->Result as $Part)
			{
				$parts[] = $Part->PartID;
			}
		}
	}
}
*/
print_r($parts);

//exit();



$parts=array(

);

$ids=array();

//foreach ($parts as $partid)
//for ($partid = 1; $partid < 168132; $partid++)
for ($partid = 1000; $partid < 168132; $partid++)
{
	$url = 'http://www.biodiversitylibrary.org/api2/httpquery.ashx?op=GetPartMetadata&partid=' . $partid . '&apikey=0d4f0303-712e-49e0-92c5-2113a5959159&format=json';
	
	$json = get($url);
	
	if ($json != '')
	{
		$obj = json_decode($json);
		
		//print_r($obj);
		
		if ($obj->Status == 'ok')
		{
			if ($obj->Result->Contributor == 'BioStor')
			{
				$reference_id = $obj->Result->ContributorID;
				
				if (isset($obj->Result->Doi) && ($obj->Result->Doi != ''))
				{
					print_r($obj);
					exit();
				
					$doi = $obj->Result->Doi;
					echo $reference_id . ' ' . $doi . "\n";
					
					$sql = 'SELECT doi FROM rdmp_reference WHERE reference_id=' . $reference_id . ' LIMIT 1';
					$result = $db->Execute($sql);
					if ($result == false) die("failed [" . __FILE__ . ":" . __LINE__ . "]: " . $sql);
					
					if ($result->NumRows() == 1)
					{
						if ($result->fields['doi'] == '')
						{						
							$ids[] = $reference_id;
				
							$sql = 'UPDATE rdmp_reference SET doi="' . $doi . '" WHERE reference_id=' . $reference_id;
				
							echo $sql . "\n";
							
							

							$result = $db->Execute($sql);
							if ($result == false) die("failed [" . __FILE__ . ":" . __LINE__ . "]: " . $sql);						
						}
					}
				}
			}
		}
	}
}

file_put_contents('parts.txt', join(",\n", $ids));

echo join(",\n", $ids);
echo "\n";
?>
